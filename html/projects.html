<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects | shihjen</title>
    <link rel="stylesheet" href="../style/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">twenty2</div>
            
            <div class="menu-toggle" id="menuToggle">â˜°</div> 

            <ul class="nav-links" id="navLinks">
                <li><a href="../index.html" class="active">Home</a></li>
                <li><a href="experience.html">Experience</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="articles.html">Articles</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>My Projects</h1>
        
        <div class="projects-grid" id="projects-grid-container">
            </div>
    </main>

    <footer>
        <p>&copy; 2025 shihjen</p>
    </footer>

    <script src="../assets/data/data.js"></script>

    <script>
        const container = document.getElementById('projects-grid-container');

        // Check if data.js is loaded correctly and has project data
        if (typeof data !== 'undefined' && data.projects) {
            
            // Loop through every project in your database
            data.projects.forEach(project => {
                
                // Create the project card element (which links to the view page)
                const cardLink = document.createElement('a');
                cardLink.href = `view.html?type=projects&id=${project.id}`;
                cardLink.className = 'card';

                // Map tags array to HTML span elements (for the technology list)
                const tagsHTML = project.tags.map(tag => 
                    `<span class="tag">${tag}</span>`
                ).join('');
                
                cardLink.innerHTML = `
                    <h2>${project.title}</h2>
                    <p style="color: #666; font-size: 0.95rem;">
                        ${project.content.substring(0, 150).replace(/<[^>]*>?/gm, '')}...
                    </p>
                    <div>${tagsHTML}</div>
                `;
                
                container.appendChild(cardLink);
            });

        } else {
            container.innerHTML = "<p>Error: Could not load projects data. Please ensure data.js is correctly linked.</p>";
        }
        </script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('menuToggle');
            const navLinks = document.getElementById('navLinks');

            menuToggle.addEventListener('click', function() {
                // Toggles the 'open' class on the navigation links list
                navLinks.classList.toggle('open');
            });
        });
    </script>
    
</body>
</html>